(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
Array.indexOf||(Array.prototype.indexOf=function(t,s){for(var i=s||0;i<this.length;i++)if(this[i]===t)return i;return-1});var Parser=function(t){function s(t){function s(){}return s.prototype=t,new s}function i(t,s,i,e){this.type_=t,this.index_=s||0,this.prio_=i||0,this.number_=void 0!==e&&null!==e?e:0,this.toString=function(){switch(this.type_){case F:return this.number_;case U:case B:case R:return this.index_;case V:return"CALL";default:return"Invalid Token"}}}function e(t,s,i,e){this.tokens=t,this.ops1=s,this.ops2=i,this.functions=e}function n(t){return"string"==typeof t?(W.lastIndex=0,W.test(t)?"'"+t.replace(W,function(t){var s=G[t];return"string"==typeof s?s:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+t+"'"):t}function r(t,s){for(var i,e=s.split(/\./),n=t;i=e.shift();){if(!(i in n))return!1;n=n[i]}return!0}function o(t,s){for(var i,e=s.split(/\./),n=t;i=e.shift();)n=n[i];return n}function h(t,s){return Number(t)+Number(s)}function p(t,s){return t-s}function a(t,s){return t*s}function u(t,s){return t/s}function f(t,s){return t%s}function c(t,s){return""+t+s}function l(t,s){return t==s}function x(t,s){return t!=s}function d(t,s){return t>s}function g(t,s){return s>t}function k(t,s){return t>=s}function v(t,s){return s>=t}function M(t,s){return Boolean(t&&s)}function _(t,s){return Boolean(t||s)}function m(t){return Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2}function b(t){return Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function w(t){return Math.tanh?Math.tanh(t):t===1/0?1:t===-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function y(t){return Math.asinh?Math.asinh(t):t===-(1/0)?t:Math.log(t+Math.sqrt(t*t+1))}function C(t){return Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function A(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function E(t){return Math.log(t)*Math.LOG10E}function S(t){return-t}function O(t){return Math.trunc?Math.trunc(t):0>t?Math.ceil(t):Math.floor(t)}function P(t){return Math.random()*(t||1)}function q(t){t=Math.floor(t);for(var s=t;t>1;)s*=--t;return s}function I(){if(Math.hypot)return Math.hypot.apply(this,arguments);for(var t=0,s=arguments.length,i=0;s>i;i++){if(arguments[i]===1/0||arguments[i]===-(1/0))return 1/0;t+=arguments[i]*arguments[i]}return Math.sqrt(t)}function L(t,s,i){return t?s:i}function N(t,s){return"[object Array]"!=Object.prototype.toString.call(t)?[t,s]:(t=t.slice(),t.push(s),t)}function j(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:m,cosh:b,tanh:w,asinh:y,acosh:C,atanh:A,sqrt:Math.sqrt,log:Math.log,lg:E,log10:E,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:O,"-":S,exp:Math.exp},this.ops2={"+":h,"-":p,"*":a,"/":u,"%":f,"^":Math.pow,",":N,"||":c,"==":l,"!=":x,">":d,"<":g,">=":k,"<=":v,and:M,or:_},this.functions={random:P,fac:q,min:Math.min,max:Math.max,hypot:I,pyt:I,pow:Math.pow,atan2:Math.atan2,"if":L},this.consts={E:Math.E,PI:Math.PI}}var F=0,U=1,B=2,R=3,V=4,W=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,G={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};e.prototype={simplify:function(t){t=t||{};var n,h,p,a,u=[],f=[],c=this.tokens.length,l=0;for(l=0;c>l;l++){a=this.tokens[l];var x=a.type_;if(x===F)u.push(a);else if(x===R&&r(t,a.index_))a=new i(F,0,0,o(t,a.index_)),u.push(a);else if(x===B&&u.length>1)h=u.pop(),n=u.pop(),p=this.ops2[a.index_],a=new i(F,0,0,p(n.number_,h.number_)),u.push(a);else if(x===U&&u.length>0)n=u.pop(),p=this.ops1[a.index_],a=new i(F,0,0,p(n.number_)),u.push(a);else{for(;u.length>0;)f.push(u.shift());f.push(a)}}for(;u.length>0;)f.push(u.shift());return new e(f,s(this.ops1),s(this.ops2),s(this.functions))},substitute:function(t,n){n instanceof e||(n=(new j).parse(String(n)));var r,o=[],h=this.tokens.length,p=0;for(p=0;h>p;p++){r=this.tokens[p];var a=r.type_;if(a===R&&r.index_===t)for(var u=0;u<n.tokens.length;u++){var f=n.tokens[u],c=new i(f.type_,f.index_,f.prio_,f.number_);o.push(c)}else o.push(r)}var l=new e(o,s(this.ops1),s(this.ops2),s(this.functions));return l},evaluate:function(t){t=t||{};var s,i,e,n,h=[],p=this.tokens.length,a=0;for(a=0;p>a;a++){n=this.tokens[a];var u=n.type_;if(u===F)h.push(n.number_);else if(u===B)i=h.pop(),s=h.pop(),e=this.ops2[n.index_],h.push(e(s,i));else if(u===R)if(r(t,n.index_))h.push(o(t,n.index_));else{if(!r(this.functions,n.index_))throw new Error("undefined variable: "+n.index_);h.push(o(this.functions,n.index_))}else if(u===U)s=h.pop(),e=this.ops1[n.index_],h.push(e(s));else{if(u!==V)throw new Error("invalid Expression");if(s=h.pop(),e=h.pop(),!e.apply||!e.call)throw new Error(e+" is not a function");"[object Array]"==Object.prototype.toString.call(s)?h.push(e.apply(void 0,s)):h.push(e.call(void 0,s))}}if(h.length>1)throw new Error("invalid Expression (parity)");return h[0]},toString:function(t){var s,i,e,r,o=[],h=this.tokens.length,p=0;for(p=0;h>p;p++){r=this.tokens[p];var a=r.type_;if(a===F)o.push(n(r.number_));else if(a===B)i=o.pop(),s=o.pop(),e=r.index_,t&&"^"==e?o.push("Math.pow("+s+","+i+")"):o.push("("+s+e+i+")");else if(a===R)o.push(r.index_);else if(a===U)s=o.pop(),e=r.index_,"-"===e?o.push("("+e+s+")"):o.push(e+"("+s+")");else{if(a!==V)throw new Error("invalid Expression");s=o.pop(),e=o.pop(),o.push(e+"("+s+")")}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},variables:function(){for(var t=this.tokens.length,s=[],i=0;t>i;i++){var e=this.tokens[i];e.type_===R&&-1==s.indexOf(e.index_)&&s.push(e.index_)}return s},toJSFunction:function(t,s){var i=new Function(t,"with(Parser.values) { return "+this.simplify(s).toString(!0)+"; }");return i}},j.parse=function(t){return(new j).parse(t)},j.evaluate=function(t,s){return j.parse(t).evaluate(s)},j.Expression=e,j.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:m,cosh:b,tanh:w,asinh:y,acosh:C,atanh:A,sqrt:Math.sqrt,log:Math.log,lg:E,log10:E,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:O,random:P,fac:q,exp:Math.exp,min:Math.min,max:Math.max,hypot:I,pyt:I,pow:Math.pow,atan2:Math.atan2,"if":L,E:Math.E,PI:Math.PI};var J=1,T=2,z=4,D=8,H=16,K=32,Q=64,X=128,Y=256;return j.prototype={parse:function(t){this.errormsg="",this.success=!0;var n=[],r=[];this.tmpprio=0;var o=J|D|z|Q,h=0;for(this.expression=t,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&o&Q?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",h++,this.addfunc(r,n,U)),o=J|D|z|Q):this.isComment()||(0===(o&T)&&this.error_parsing(this.pos,"unexpected operator"),h+=2,this.addfunc(r,n,B),o=J|D|z|Q);else if(this.isNumber()){0===(o&J)&&this.error_parsing(this.pos,"unexpected number");var p=new i(F,0,0,this.tokennumber);r.push(p),o=T|H|K}else if(this.isString()){0===(o&J)&&this.error_parsing(this.pos,"unexpected string");var p=new i(F,0,0,this.tokennumber);r.push(p),o=T|H|K}else if(this.isLeftParenth())0===(o&D)&&this.error_parsing(this.pos,'unexpected "("'),o&X&&(h+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(r,n,V)),o=J|D|z|Q|Y;else if(this.isRightParenth()){if(o&Y){var p=new i(F,0,0,[]);r.push(p)}else 0===(o&H)&&this.error_parsing(this.pos,'unexpected ")"');o=T|H|K|D|X}else if(this.isComma())0===(o&K)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(r,n,B),h+=2,o=J|D|z|Q;else if(this.isConst()){0===(o&J)&&this.error_parsing(this.pos,"unexpected constant");var a=new i(F,0,0,this.tokennumber);r.push(a),o=T|H|K}else if(this.isOp2())0===(o&z)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(r,n,B),h+=2,o=D;else if(this.isOp1())0===(o&z)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(r,n,U),h++,o=D;else if(this.isVar()){0===(o&J)&&this.error_parsing(this.pos,"unexpected variable");var u=new i(R,this.tokenindex,0,0);r.push(u),o=T|H|K|D|X}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');n.length>0;){var f=n.pop();r.push(f)}return h+1!==r.length&&this.error_parsing(this.pos,"parity"),new e(r,s(this.ops1),s(this.ops2),s(this.functions))},evaluate:function(t,s){return this.parse(t).evaluate(s)},error_parsing:function(t,s){throw this.success=!1,this.errormsg="parse error [column "+t+"]: "+s,this.column=t,new Error(this.errormsg)},addfunc:function(t,s,e){for(var n=new i(e,this.tokenindex,this.tokenprio+this.tmpprio,0);s.length>0&&n.prio_<=s[s.length-1].prio_;)t.push(s.pop());s.push(n)},isNumber:function(){for(var t=!1,s="";this.pos<this.expression.length;){var i=this.expression.charCodeAt(this.pos);if(!(i>=48&&57>=i||46===i))break;s+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(s),t=!0}return t},unescape:function(t,s){for(var i=[],e=!1,n=0;n<t.length;n++){var r=t.charAt(n);if(e){switch(r){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("	");break;case"u":var o=parseInt(t.substring(n+1,n+5),16);i.push(String.fromCharCode(o)),n+=4;break;default:throw this.error_parsing(s+n,"Illegal escape sequence: '\\"+r+"'")}e=!1}else"\\"==r?e=!0:i.push(r)}return i.join("")},isString:function(){var t=!1,s="",i=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var e=this.expression.charAt(this.pos);if("'"==e&&"\\"!=s.slice(-1)){this.pos++,this.tokennumber=this.unescape(s,i),t=!0;break}s+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t;for(var s in this.consts){var i=s.length;if(t=this.expression.substr(this.pos,i),s===t)return this.tokennumber=this.consts[s],this.pos+=i,!0}return!1},isOperator:function(){var t=this.expression.charCodeAt(this.pos);if(43===t)this.tokenprio=2,this.tokenindex="+";else if(45===t)this.tokenprio=2,this.tokenindex="-";else if(62===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="||"}else if(61===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="=="):(this.tokenprio=1,this.tokenindex="==");else if(33===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===t){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===t){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===t||8729===t||8226===t)this.tokenprio=3,this.tokenindex="*";else if(47===t)this.tokenprio=4,this.tokenindex="/";else if(37===t)this.tokenprio=4,this.tokenindex="%";else{if(94!==t)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t||43===t},isPositiveSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 43===t},isNegativeSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t},isLeftParenth:function(){var t=this.expression.charCodeAt(this.pos);return 40===t?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var t=this.expression.charCodeAt(this.pos);return 41===t?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var t=this.expression.charCodeAt(this.pos);return 44===t?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var t=this.expression.charCodeAt(this.pos);return 32===t||9===t||10===t||13===t?(this.pos++,!0):!1},isOp1:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()&&(s===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops1?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isOp2:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()&&(s===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops2?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isVar:function(){for(var t="",s=this.pos;s<this.expression.length;s++){var i=this.expression.charAt(s);if(i.toUpperCase()===i.toLowerCase()){if(s===this.pos&&"@"==i){t+=i;continue}if(s===this.pos||"_"!=i&&"."!=i&&("0">i||i>"9"))break}t+=i}return t.length>0?(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0):!1},isComment:function(){var t=this.expression.charCodeAt(this.pos-1);return 47===t&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},t.Parser=j,j}("undefined"==typeof exports?{}:exports);
},{}],2:[function(require,module,exports){
(function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,i=[].slice,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=require("./emitter"),t=function(t){function e(t,n,i){if(null==i&&(i={}),null==t)throw this.error("must supply 'kind' to create a new Element");if("object"!=typeof i)throw this.error("must supply 'attrs' as an object");e.__super__.constructor.call(this,i.parent),this.propagate("change"),Object.defineProperties(this,{kind:{value:t,enumerable:!0},tag:{value:n,enumerable:!0,writable:!0},node:{value:i.node===!0},scope:{value:i.scope,writable:!0},trail:{get:function(){var t,n;return t=this,n=function(){var n,r;for(r=[];(t=t.parent)&&t instanceof e;)r.push(null!=(n=t.tag)?n:t.kind);return r}(),n=n.reverse().join("/"),n+"/"+this.kind}.bind(this)},root:{get:function(){return this.parent instanceof e?this.parent.root:this}.bind(this)},elements:{get:function(){var t,n;return function(){var e;e=[];for(t in this)r.call(this,t)&&(n=this[t],"tag"!==t&&e.push(n));return e}.call(this).reduce(function(t,n){switch(!1){case!(n instanceof e):return t.concat(n);case!(n instanceof Array):return t.concat(n.filter(function(t){return t instanceof e}));default:return t}},[])}.bind(this)},nodes:{get:function(){return this.elements.filter(function(t){return t.node===!0})}.bind(this)},attrs:{get:function(){return this.elements.filter(function(t){return t.node===!1})}.bind(this)},"*":{get:function(){return this.nodes}.bind(this)},"..":{get:function(){return this.parent}.bind(this)}})}return n(e,t),e.use=function(){var t,n;switch(n=(t=[]).concat.apply(t,arguments).filter(function(t){return null!=t}).map(function(t){return function(n){var r;return r=e.prototype.match.call(t,n.kind,n.tag),null!=r?(console.warn(t.error("use: already loaded '"+n.kind+"/"+n.tag+"'")),r):e.prototype.merge.call(t,n)}}(this)),!1){case!(n.length>1):return n;case 1!==n.length:return n[0];default:return}},e.error=function(t,e){var n;return null==e&&(e=this),n=new Error(t),n.name="ElementError",n.context=e,n},e.prototype.clone=function(){return new this.constructor(this.kind,this.tag,this)["extends"](this.elements.map(function(t){return t.clone()}))},e.prototype["extends"]=function(){var t,e;return t=(e=[]).concat.apply(e,arguments).filter(function(t){return null!=t&&!!t}),t.length>0?(t.forEach(function(t){return function(e){return t.merge(e)}}(this)),this.emit.apply(this,["change"].concat(i.call(t))),this):this},e.prototype.merge=function(t){var n,r;if(!(t instanceof e))throw this.error("cannot merge a non-Element into an Element",t);if(null==t.parent&&(t.parent=this),null==this.scope){switch(!1){case!!this.hasOwnProperty(t.kind):this[t.kind]=t;break;case this[t.kind]instanceof Array:this[t.kind]=[this[t.kind]],Object.defineProperty(this[t.kind],"tags",{value:[]}),this[t.kind].tags.push(t.tag);break;case n=t.tag,o.call(this[t.kind].tags,n)>=0:this[t.kind].tags.push(t.tag),this[t.kind].push(t);break;default:throw this.error("constraint violation for '"+t.kind+" "+t.tag+"' - cannot define more than once")}return t}if(!(t.kind in this.scope)){if(null!=t.scope)throw"function"==typeof this.debug&&this.debug(this.scope),this.error("scope violation - invalid '"+t.kind+"' extension found");this.scope[t.kind]="*"}switch(this.scope[t.kind]){case"0..n":case"1..n":case"*":if(this.hasOwnProperty(t.kind)||(Object.defineProperty(this,t.kind,{enumerable:!0,value:[]}),Object.defineProperty(this[t.kind],"tags",{value:[]})),r=t.tag,!(o.call(this[t.kind].tags,r)<0))throw this.error("constraint violation for '"+t.kind+" "+t.tag+"' - cannot define more than once");this[t.kind].tags.push(t.tag),this[t.kind].push(t);break;case"0..1":case"1":if(this.hasOwnProperty(t.kind)){if("argument"!==t.kind)throw this.error("constraint violation for '"+t.kind+"' - cannot define more than once");this[t.kind]=t}else Object.defineProperty(this,t.kind,{enumerable:!0,value:t});break;default:throw this.error("unrecognized scope constraint defined for '"+t.kind+"' with "+this.scope[t.kind])}return t},e.prototype.update=function(t){var n,r,i,o,s;if(!(t instanceof e))throw this.error("cannot update a non-Element into an Element",t);if(n=e.prototype.match.call(this,t.kind,t.tag),null==n)return this.merge(t);for(o=t.elements,r=0,i=o.length;i>r;r++)s=o[r],n.update(s);return n},e.prototype.lookup=function(t,n){var r;return r=function(){switch(!1){case this instanceof Object:return;case!(this instanceof e):return this.match(t,n);default:return e.prototype.match.call(this,t,n)}}.call(this),null==r&&(r=function(){switch(!1){case null==this.parent:return e.prototype.lookup.apply(this.parent,arguments);default:return e.prototype.match.call(this.constructor,t,n)}}.apply(this,arguments)),r},e.prototype.locate=function(t){var e,n,r,o,s,a,c,u,h,l,f;if("string"==typeof t&&t){if("function"==typeof this.debug&&this.debug("locate: "+t),t=t.replace(/\s/g,""),/^\//.test(t)&&this!==this.root)return this.root.locate(t);if(s=t.split("/").filter(function(t){return!!t}),n=s[0],h=2<=s.length?i.call(s,1):[],null==n)return this;switch(!1){case".."!==n:r=n;break;case!/^{.*}$/.test(n):r="grouping",f=n.replace(/^{(.*)}$/,"$1");break;case!/^\[.*\]$/.test(n):n=n.replace(/^\[(.*)\]$/,"$1"),a=n.split(":"),r=2<=a.length?i.call(a,0,e=a.length-1):(e=0,[]),f=a[e++],c=f.split("="),f=c[0],l=c[1],(null!=r?r.length:void 0)&&(r=r[0]);break;default:u=n.split("="),f=u[0],l=u[1],r="*"}switch(o=this.match(r,f),!1){case 0!==h.length:return o;default:return null!=o?o.locate(h.join("/")):void 0}}},e.prototype.match=function(t,n){var r,i,o,s,a;if(this instanceof Object&&null!=t&&this.hasOwnProperty(t)){if(null==n)return this[t];for(a=this[t],a instanceof Array||(a=[a]),i=0,s=a.length;s>i;i++)if(r=a[i],r instanceof e&&(o=null!=r.tag?r.tag:r.kind,n===o))return r}},e.prototype.error=e.error,e.prototype.debug=null!=console.debug?function(t){switch(typeof t){case"object":return console.debug(t);default:return console.debug("["+this.trail+"] "+t)}}:void 0,e.prototype.toObject=function(){var t,e;return"function"==typeof this.debug&&this.debug("converting "+this.kind+" toObject with "+this.elements.length),e=this.elements.filter(function(t){return function(e){return e.parent===t}}(this)).reduce(function(t,e){var n,r,i,o,s;i=e.toObject();for(n in i)if(o=i[n],t[n]instanceof Object){if(o instanceof Object)for(r in o)s=o[r],t[n][r]=s}else t[n]=o;return t},{}),t={},t[""+this.kind]=function(){var t;switch(!1){case!(Object.keys(e).length>0):return null!=this.tag?(t={},t[""+this.tag]=e,t):e;case!(this.tag instanceof Object):return""+this.tag;default:return this.tag}}.call(this),t},e}(e),module.exports=t}).call(this);
},{"./emitter":3}],3:[function(require,module,exports){
(function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,o=[].slice;e=require("events"),t=function(t){function e(t){Object.defineProperties(this,{parent:{value:t,writable:!0},domain:{writable:!0},_events:{writable:!0},_eventsCount:{writable:!0},_maxListeners:{writable:!0}}),e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.propagate=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],t.forEach(function(t){return function(n){return t.on(n,function(){var t,r,i;switch(!1){case!(null==this.parent):break;case!(this.parent instanceof e):return(t=this.parent).emit.apply(t,[n].concat(o.call(arguments)));case!(this.parent.__ instanceof e):return(r=this.parent.__).emit.apply(r,[n].concat(o.call(arguments)));default:return"function"==typeof console.debug&&console.debug("unable to emit '"+n+"' from "+this.name+" -> parent"),"function"==typeof console.debug&&console.debug("parent.emit   = "+(null!=this.parent.emit)),"function"==typeof console.debug?console.debug("property.emit = "+(null!=(null!=(i=this.parent.__)?i.emit:void 0))):void 0}})}}(this))},e}(e.EventEmitter),module.exports=t}).call(this);
},{"events":17}],4:[function(require,module,exports){
(function(){var t,e,r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=require("./element"),e=function(t){function e(t,r,n){var i,o,s,u,a;if(null==n&&(n={}),!(n instanceof Object))throw this.error("cannot create new Expression without 'source' object");i=n.argument,o=n.binding,a=n.scope,u=n.resolved,s=n.convert,n.hasOwnProperty("source")&&(n=n.source),null==n.resolve&&(n.resolve=function(){}),null==n.construct&&(n.construct=function(t){return t}),null==n.predicate&&(n.predicate=function(){return!0}),e.__super__.constructor.apply(this,arguments),this.scope=a,null==u&&(u=!1),Object.defineProperties(this,{source:{value:n,writable:!0},argument:{value:i,writable:!0},binding:{value:o,writable:!0},resolved:{value:u,writable:!0},convert:{value:s,writable:!0},exprs:{get:function(){return this.elements.filter(function(t){return t instanceof e})}.bind(this)}})}return r(e,t),e.prototype.resolve=function(){if("function"==typeof this.debug&&this.debug("resolve: enter..."),this.emit("resolve:before",arguments),this.resolved===!1&&this.source.resolve.apply(this,arguments),null!=this.tag&&null==this.argument)throw this.error("cannot contain argument '"+this.tag+"' for expression '"+this.kind+"'");if(null!=this.argument&&null==this.tag)throw this.error("must contain argument '"+this.argument+"' for expression '"+this.kind+"'");return this.elements.forEach(function(t){return t.resolve.apply(t,arguments)}),this.resolved=!0,this.emit("resolve:after"),"function"==typeof this.debug&&this.debug("resolve: ok"),this},e.prototype.bind=function(t){var e,r,n,i;if(t instanceof Object){if(t instanceof Function)return"function"==typeof this.debug&&this.debug("bind: registering function"),this.binding=t,this;for(i in t){e=t[i];try{this.locate(i).bind(e)}catch(n){if(r=n,"ExpressionError"===r.name)throw r;throw this.error("failed to bind to '"+i+"' (schema-path not found)",r)}}return this}},e.prototype.apply=function(t){if(this.resolve(),this.emit("apply:before",t),t=this.source.construct.call(this,t),!this.source.predicate.call(this,t))throw this.error("predicate validation error during apply",t);return this.emit("apply:after",t),t},e.prototype.eval=function(t,e){return null==e&&(e={}),null==e.adaptive&&(e.adaptive=!0),t=this.apply(t),e.adaptive&&this.once("change",arguments.callee.bind(this,t,e)),t},e.prototype.error=function(){var t;return t=e.__super__.error.apply(this,arguments),t.name="ExpressionError",t},e}(t),module.exports=e}).call(this);
},{"./element":2}],5:[function(require,module,exports){
(function (process){
(function(){var e,n,l,o;null!=process.env.yang_debug&&null==console.debug&&(console.debug=console.log),l=require("./yang"),e=require("./yang-extension"),n=require("./yang-typedef"),l.use(e.builtins,n.builtins),o=module.exports=l,o.Extension=e,o.Typedef=n,o.Model=require("./model")}).call(this);
}).call(this,require('_process'))
},{"./model":6,"./yang":11,"./yang-extension":9,"./yang-typedef":10,"_process":22}],6:[function(require,module,exports){
(function(){var t,e,n,r,i=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;t=require("./emitter"),r=require("./xpath"),e=require("./expression"),n=function(t){function n(t,r){var i,l,s,a;if(null==r&&(r={}),!(t instanceof e))throw new Error("cannot create a new Model without schema Expression");n.__super__.constructor.apply(this,arguments),"module"!==t.kind&&(t=new e("module")["extends"](t));for(i in r)l=r[i],s=l.schema,o.call(t.nodes,s)>=0&&l.join(this);Object.defineProperties(this,{_id:{value:null!=(a=t.tag)?a:Object.keys(this).join("+")},__:{value:{name:t.tag,schema:t}}}),Object.preventExtensions(this)}return i(n,t),n.prototype.on=function(){var t,e,r,i;return e=arguments[0],i=3<=arguments.length?s.call(arguments,1,r=arguments.length-1):(r=1,[]),t=arguments[r++],i.length&&null!=t?this.on(e,function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],r=n.path,o.call(i,r)>=0?t.apply(this,[n].concat(e)):void 0}):n.__super__.on.call(this,e,t)},n.prototype["in"]=function(t){var e,n,i,l,o,s,a;if(null==t&&(t=""),i=t.split("/").filter(function(t){return null!=t&&!!t}),e=this.__.schema,!i.length)return{model:this,schema:e,path:r.parse("."),match:this};for(n=i.shift(),e=function(){switch(!1){case e.tag!==n:return e;default:return e.locate(n)}}(),s="/"+n;(n=i.shift())&&null!=e&&("list"!==e.kind||null!=e.locate(n)||(s+="[key() = '"+n+"']",n=i.shift(),l=!0,null!=n));)e=e.locate(n),null!=e&&(s+="/"+e.datakey);return i.length||null==e?void 0:(a=r.parse(s),o=a.apply(this),o=function(){switch(!1){case!!(null!=o?o.length:void 0):return;case!(/list$/.test(e.kind)&&!l):return o;case!(o.length>1):return o;default:return o[0]}}(),{model:this,schema:e,path:a,match:o,key:e.datakey})},n}(t),module.exports=n}).call(this);
},{"./emitter":3,"./expression":4,"./xpath":8}],7:[function(require,module,exports){
(function(){var t,e,n,i,r,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,c=[].slice;e=require("promise"),r=require("events"),i=require("./xpath"),t=require("./emitter"),n=function(t){function n(t,e,i){if(null==i&&(i={}),!(null!=t&&i instanceof Object))throw console.log(arguments),new Error("must supply 'name' and 'opts' to create a new Property");this.name=t,this.configurable=i.configurable,null==this.configurable&&(this.configurable=!0),this.enumerable=i.enumerable,null==this.enumerable&&(this.enumerable=null!=e),n.__super__.constructor.call(this,i.parent),Object.defineProperties(this,{schema:{value:i.schema},path:{get:function(){var t,e,n,i,r;for(r=this,t=[this.name];(r=null!=(n=r.parent)?n.__:void 0)&&"module"!==(null!=(i=r.schema)?i.kind:void 0);)("list"!==(null!=(e=r.schema)?e.kind:void 0)||r.content instanceof Array)&&t.unshift(r.name);return"/"+t.join("/")}.bind(this)},content:{get:function(){return e},set:function(t){return t!==e&&this.emit("update",this),e=t}.bind(this)}}),this.set=this.set.bind(this),this.get=this.get.bind(this),this.propagate("update","create","delete"),e instanceof Object&&(e.hasOwnProperty("__")||Object.defineProperty(e,"__",{writable:!0}),e.__=this)}return s(n,t),n.prototype.join=function(t){var e,n,i,r,s,o;if(!(t instanceof Object))return t;if(this.parent=t,t.hasOwnProperty("__props__")||Object.defineProperty(t,"__props__",{value:{}}),s=t.__props__[this.name],t.__props__[this.name]=this,"function"==typeof console.debug&&console.debug("join property '"+this.name+"' into obj"),"function"==typeof console.debug&&console.debug(t),t instanceof Array&&"list"===(null!=(o=this.schema)?o.kind:void 0)&&null!=this.content){for(n=e=0,r=t.length;r>e;n=++e)if(i=t[n],i["@key"]===this.content["@key"])return"function"==typeof console.debug&&console.debug("found matching key in "+n),t.splice(n,1,this.content),t;t.push(this.content)}else Object.defineProperty(t,this.name,this);return this.emit("update",this,s),t},n.prototype.set=function(t,e){var n,i,r,s;switch(null==e&&(e=!1),!1){case e!==!0:return this.content=t;case null==(null!=(r=this.schema)?r.apply:void 0):return"function"==typeof console.debug&&console.debug("setting "+this.name+" with parent: "+(null!=this.parent)),s=this.schema.apply((n={},n[""+this.name]=t,n)),i=s.__props__[this.name],null!=this.parent?i.join(this.parent):this.content=i.content;default:return this.content=t}},n.prototype.get=function(){var t,n,i,r;switch(!1){case!arguments.length:switch(i=this.find.apply(this,arguments),!1){case 1!==i.length:return i[0];case!(i.length>1):return i;default:return}break;case!(this.content instanceof Function):switch(!1){case this.content.computed!==!0:return this.content.call(this);case this.content.async!==!0:return function(t){return function(){var n;return n=1<=arguments.length?c.call(arguments,0):[],new e(function(e,i){return t.content.apply(t,[].concat(n,e,i))})}}(this);default:return this.content.bind(this)}break;case!(this.content instanceof Object):r=this.content;for(n in r)o.call(r,n)&&Number.isNaN(Number(n))&&(t=Object.getOwnPropertyDescriptor(this.content,n),t.writable&&delete this.content[n]);return this.content;default:return this.content}},n.prototype.find=function(t){var e;if(t instanceof i||(t=new i(t)),!(this.content instanceof Object))switch(t.tag){case"/":return t.apply(this.parent);case"..":return null!=(e=t.xpath)?e.apply(this.parent):void 0}return t.apply(this.content)},n}(t),module.exports=n}).call(this);
},{"./emitter":3,"./xpath":8,"events":17,"promise":23}],8:[function(require,module,exports){
(function(){var t,r,n,e,i,u=function(t,r){function n(){this.constructor=t}for(var e in r)a.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},a={}.hasOwnProperty,s=[].slice;i=require("../ext/parser").Parser,t=require("./expression"),r=function(t){function r(t){var n;this.pattern=null!=t?t:"",n=Number.isNaN(Number(this.pattern))||Number(this.pattern)%1!==0?i.parse(this.pattern):Number(this.pattern),r.__super__.constructor.call(this,"filter",n,{argument:"predicate",scope:{},construct:function(t){return t instanceof Array&&t.length>0&&this.tag?t=function(){switch(!1){case"number"!=typeof this.tag:return[t[this.tag-1]];default:return t.filter(function(t){return function(r){try{return t.tag.evaluate(t.tag.variables().reduce(function(t,n){return t[n]=function(){switch(n){case"key":return function(){return r["@key"]};case"current":return function(){return r};default:return r[n]}}(),t},{}))}catch(n){return!1}}}(this))}}.call(this):t}})}return u(r,t),r.prototype.toString=function(){return this.pattern},r}(t),n=function(t){function n(t){var e,i,u,o;if("string"!=typeof t)throw this.error("must pass in 'pattern' as valid string");if(e=t.match(/([^\/^\[]+(?:\[.+?\])*)/g),!(null!=e&&e.length>0))throw this.error("unable to process '"+t+"' (please check your input)");/^\//.test(t)?(o="/",i=[]):(u=e.shift().split(/\[\s*(.+?)\s*\]/),o=u[0],i=2<=u.length?s.call(u,1):[],i=i.filter(function(t){return!!t})),n.__super__.constructor.call(this,"xpath",o,{argument:"node",scope:{filter:"0..n",xpath:"0..1"},construct:function(t){var r,n,e,i,u,s,o;if(!(t instanceof Object))return t;if("/"===this.tag){for(;null!=(null!=(s=t.__)?s.parent:void 0);)t=t.__.parent;e="."}else e=this.tag;for(t instanceof Array||(u=t.__,t=[t]),t=t.reduce(function(t,r){return r instanceof Array||(u=r.__,r=[r]),t.concat.apply(t,r.map(function(t){var r,n,i,s,o,c,l;if("."===e)return t;if(t instanceof Object)return c=function(){var u,c,p,f;switch(!1){case".."!==e:return null!=(u=t.__)?u.parent:void 0;case"*"!==e:f=[];for(n in t)a.call(t,n)&&(l=t[n],f.push(l));return f;case!t.hasOwnProperty(e):return t[e];case!(/.+?:.+/.test(e)&&null!=(null!=(c=t.__)?c.schema:void 0)):return r=t.__.schema,s=r.locate(e),(null!=s?s.parent:void 0)===r?t[s.datakey]:t[e];default:for(n in t)if(a.call(t,n)&&/.+?:.+/.test(n)&&(p=n.split(":"),o=p[0],i=p[1],i===e)){s=t[n];break}return s}}(),null!=(null!=c?c.__:void 0)&&(u=c.__),c}))},[]),t=t.filter(function(t){return null!=t}),o=this.exprs,n=0,i=o.length;i>n&&(r=o[n],null!=t&&t.length>0);n++)t=r.apply(t);return t.hasOwnProperty("__")||Object.defineProperty(t,"__",{value:u}),t}}),i.length>0&&this["extends"].apply(this,i.map(function(t){return new r(t)})),e.length>0&&this["extends"](new n(e.join("/")))}return u(n,t),n.prototype.toString=function(){var t,r,n,e,i;if(i="/"===this.tag?"":this.tag,null!=this.filter)for(e=this.filter,r=0,n=e.length;n>r;r++)t=e[r],i+="["+t+"]";return null!=this.xpath&&(i+="/"+this.xpath),i},n}(t),e=module.exports=n,e.parse=function(t){return new n(t)}}).call(this);
},{"../ext/parser":1,"./expression":4}],9:[function(require,module,exports){
(function(){var e,n,t,i,r,o,s=function(e,n){function t(){this.constructor=e}for(var i in n)a.call(n,i)&&(e[i]=n[i]);return t.prototype=n.prototype,e.prototype=new t,e.__super__=n.prototype,e},a={}.hasOwnProperty,u=[].slice;e=require("./expression"),r=require("./yang"),t=require("./property"),i=require("./xpath"),n=function(e){function n(e,t){if(null==t&&(t={}),!(t instanceof Object))throw this.error("must supply 'spec' as object");null==t.scope&&(t.scope={}),n.__super__.constructor.call(this,"extension",e,t),Object.defineProperties(this,{argument:{value:t.argument},compose:{value:t.compose}})}return s(n,e),n.scope={argument:"0..1",description:"0..1",reference:"0..1",status:"0..1"},n}(e),o=module.exports=n,o.builtins=[new n("action",{argument:"name",node:!0,scope:{description:"0..1",grouping:"0..n","if-feature":"0..n",input:"0..1",output:"0..1",reference:"0..1",status:"0..1",typedef:"0..n"},construct:function(e){var n,i,r,o,s,a,u;if(null==e&&(e={}),!(e instanceof Object))return e;if(i=null!=(s=null!=(a=e[this.tag])?a:this.binding)?s:function(e){return function(n,t,i){throw e.error("handler function undefined")}}(this),!(i instanceof Function))throw this.error("expected a function but got a '"+typeof i+"'");if(3!==i.length)throw this.error("cannot define without function (input, resolve, reject)");for(u=this.exprs,r=0,o=u.length;o>r;r++)n=u[r],i=n.apply(i);return i.async=!0,new t(this.tag,i,{schema:this}).join(e)},compose:function(e,n){return null==n&&(n={}),e instanceof Function&&0===Object.keys(e).length&&0===Object.keys(e.prototype).length?new r(this.tag,n.tag,this).bind(e):void 0}}),new n("anydata",{argument:"name",scope:{config:"0..1",description:"0..1","if-feature":"0..n",mandatory:"0..1",must:"0..n",reference:"0..1",status:"0..1",when:"0..1"}}),new n("argument",{argument:"arg-type",scope:{"yin-element":"0..1"}}),new n("augment",{argument:"target-node",scope:{action:"0..n",anydata:"0..n",anyxml:"0..n","case":"0..n",choice:"0..n",container:"0..n",description:"0..1","if-feature":"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",notification:"0..n",reference:"0..1",status:"0..1",uses:"0..n",when:"0..1"},resolve:function(){var e;return e=function(){switch(this.parent.kind){case"module":if(!/^\//.test(this.tag))throw this.error("'"+this.tag+"' must be absolute-schema-path");return this.locate(this.tag);case"uses":if(/^\//.test(this.tag))throw this.error("'"+this.tag+"' must be relative-schema-path");return this.parent.grouping.locate(this.tag)}}.call(this),null==e?void console.warn(this.error("unable to locate '"+this.tag+"'")):null==this.when?("function"==typeof this.debug&&this.debug("augmenting '"+e.kind+":"+e.tag+"'"),e["extends"](this.exprs.filter(function(e){var n;return"description"!==(n=e.kind)&&"reference"!==n&&"status"!==n}))):e.on("apply:after",function(e){return function(n){var t,i,r,o,s;if(null!=n){for(o=e.exprs,s=[],i=0,r=o.length;r>i;i++)t=o[i],s.push(n=t.apply(n));return s}}}(this))}}),new n("base",{argument:"name"}),new n("belongs-to",{argument:"module-name",scope:{prefix:"1"},resolve:function(){if(this.module=this.lookup("module",this.tag),null==this.module)throw this.error("unable to resolve '"+this.tag+"' module")}}),new n("bit",{argument:"name",scope:{description:"0..1",reference:"0..1",status:"0..1",position:"0..1"}}),new n("case",{argument:"name",scope:{anyxml:"0..n",choice:"0..n",container:"0..n",description:"0..1","if-feature":"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",reference:"0..1",status:"0..1",uses:"0..n",when:"0..1"}}),new n("choice",{argument:"condition",scope:{anyxml:"0..n","case":"0..n",config:"0..1",container:"0..n","default":"0..1",description:"0..1","if-feature":"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",mandatory:"0..1",reference:"0..1",status:"0..1",when:"0..1"}}),new n("config",{argument:"value",resolve:function(){return this.tag=this.tag===!0||"true"===this.tag},construct:function(e){var n;if(null!=e){if(this.tag===!0&&!(e instanceof Function))return e;if(!(e instanceof Function))throw this.error("cannot set data on read-only element");return n=function(){var n,t,i,r,o;for(o=e.call(this),r=this.schema.exprs,t=0,i=r.length;i>t;t++)n=r[t],"config"!==n.kind&&(o=n.apply(o));return o},n.computed=!0,n}},predicate:function(e){return null==e||this.tag===!0||e instanceof Function}}),new n("contact",{argument:"text",yin:!0}),new n("container",{argument:"name",node:!0,scope:{action:"0..n",anydata:"0..n",anyxml:"0..n",choice:"0..n",config:"0..1",container:"0..n",description:"0..1",grouping:"0..n","if-feature":"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",must:"0..n",notification:"0..n",presence:"0..1",reference:"0..1",status:"0..1",typedef:"0..n",uses:"0..n",when:"0..1"},construct:function(e){var n,i,r,o,s,a;if(null==e&&(e={}),!(e instanceof Object))return e;if(o=null!=(s=e[this.datakey])?s:this.binding,null!=o)for(a=this.exprs,i=0,r=a.length;r>i;i++)n=a[i],o=n.apply(o);return new t(this.datakey,o,{schema:this}).join(e)},predicate:function(e){return null==(null!=e?e[this.datakey]:void 0)||e[this.datakey]instanceof Object},compose:function(e,n){var t,i,o,s,u,c,l,f,h,p;if(null==n&&(n={}),(null!=e?e.constructor:void 0)===Object){f=function(){var e,n;e=this.scope,n=[];for(s in e)a.call(e,s)&&n.push(this.lookup("extension",s));return n}.call(this),l=[];for(o in e)if(a.call(e,o)){for(p=e[o],i=0,u=f.length;u>i&&(t=f[i],null==t||("function"==typeof this.debug&&this.debug("checking '"+o+"' to see if "+t.tag),c="function"==typeof t.compose?t.compose(p,{tag:o}):void 0,null==c));i++);if(null==c)return;l.push(c)}return(h=new r(this.tag,n.tag,this))["extends"].apply(h,l)}}}),new n("default",{argument:"value",construct:function(e){return null!=e?e:this.tag}}),new n("description",{argument:"text",yin:!0}),new n("deviate",{argument:"value",scope:{config:"0..1","default":"0..1",mandatory:"0..1","max-elements":"0..1","min-elements":"0..1",must:"0..n",type:"0..1",unique:"0..1",units:"0..1"}}),new n("deviation",{argument:"target-node",scope:{description:"0..1",deviate:"1..n",reference:"0..1"}}),new n("enum",{argument:"name",scope:{description:"0..1",reference:"0..1",status:"0..1",value:"0..1"},resolve:function(){var e,n;return null==(e=this.parent).enumValue&&(e.enumValue=0),null==this.value?this["extends"](this.constructor.parse("value "+this.parent.enumValue++ +";")):(n=Number(this.value.tag)+1,this.parent.enumValue>n?void 0:this.parent.enumValue=n)}}),new n("error-app-tag",{argument:"value"}),new n("error-message",{argument:"value",yin:!0}),new n("extension",{argument:"extension-name",scope:{argument:"0..1",description:"0..1",reference:"0..1",status:"0..1"},resolve:function(){}}),new n("feature",{argument:"name",scope:{description:"0..1","if-feature":"0..n",reference:"0..1",status:"0..1"},resolve:function(){var e;return"unavailable"===(null!=(e=this.status)?e.tag:void 0)?console.warn("feature "+this.tag+" is unavailable"):void 0},compose:function(e,n){var t;return null==n&&(n={}),(null!=e?e.constructor:void 0)!==Object&&e instanceof Object&&!(e instanceof Function&&0===Object.keys(e.prototype).length)?new r(this.tag,null!=(t=n.tag)?t:e.name).bind(e):void 0}}),new n("fraction-digits",{argument:"value"}),new n("grouping",{argument:"name",scope:{action:"0..n",anydata:"0..n",anyxml:"0..n",choice:"0..n",container:"0..n",description:"0..1",grouping:"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",notification:"0..n",reference:"0..1",status:"0..1",typedef:"0..n",uses:"0..n"}}),new n("identity",{argument:"name",scope:{base:"0..1",description:"0..1",reference:"0..1",status:"0..1"},resolve:function(){return null!=this.base?this.lookup("identity",this.base.tag):void 0}}),new n("if-feature",{argument:"feature-name",resolve:function(){return null==this.lookup("feature",this.tag)?console.warn("should be turned off..."):void 0}}),new n("import",{argument:"module",scope:{prefix:"1","revision-date":"0..1"},resolve:function(){var e,n,t;if(e=this.lookup("module",this.tag),null==e)throw this.error("unable to resolve '"+this.tag+"' module");if(Object.defineProperty(this,"module",{value:e}),t=null!=(n=this["revision-date"])?n.tag:void 0,null!=t&&null==this.module.match("revision",t))throw this.error("requested "+t+" not available in "+this.tag)}}),new n("include",{argument:"module",scope:{"revision-date":"0..1"},resolve:function(){var e,n,t,i,r,o;if(t=this.lookup("submodule",this.tag),null==t)throw this.error("unable to resolve '"+this.tag+"' submodule");if(this.parent.tag!==t["belongs-to"].tag)throw t.error("requested submodule '"+this.tag+"' not belongs-to '"+this.parent.tag+"'");for(t["belongs-to"].module=this.parent,i=t.elements,r=[],e=0,n=i.length;n>e;e++)o=i[e],"0..n"===t.scope[o.kind]&&"revision"!==o.kind&&r.push(this.parent.update(o).resolve());return r}}),new n("input",{scope:{anyxml:"0..n",choice:"0..n",container:"0..n",grouping:"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",typedef:"0..n",uses:"0..n"},construct:function(e){if(!(e instanceof Function))throw this.error("expected a function but got a '"+typeof e+"'");return function(n,t,i){var r,o,s,a,u,c;try{for(c=this.schema.input.exprs,a=0,u=c.length;u>a;a++)s=c[a],n=s.apply(n)}catch(o){r=o,i(r)}return e.call(this,n,t,i)}}}),new n("key",{argument:"value",resolve:function(){return this.parent.once("resolve:after",function(e){return function(){if(e.tag=e.tag.split(" "),!e.tag.every(function(n){return null!=e.parent.match("leaf",n)}))throw e.error("unable to reference key items as leaf elements",e.parent)}}(this))},construct:function(e){var n,i,r,o,s,a;if(!(e instanceof Object))return e;for(a=e,a instanceof Array||(a=[a]),n={},i=0,s=a.length;s>i;i++)if(r=a[i],r instanceof Object){if(r.hasOwnProperty("@key")||Object.defineProperty(r,"@key",{get:function(){return"function"==typeof this.debug&&this.debug("GETTING @key from "+this+" using "+this.tag+":"),this.tag.map(function(e){return r[e]}).join(",")}.bind(this)}),o=r["@key"],n[o]===!0)throw this.error("key conflict for "+o);n[o]=!0,e instanceof Array&&("function"==typeof this.debug&&this.debug("defining a direct key mapping for '"+o+"'"),Number(o)&&(o="__"+o+"__"),new t(o,r,{schema:this,enumerable:!1}).join(e))}return e},predicate:function(e){return e instanceof Array?!0:this.tag.every(function(n){return function(n){return null!=e[n]}}(this))}}),new n("leaf",{argument:"name",node:!0,scope:{config:"0..1","default":"0..1",description:"0..1","if-feature":"0..n",mandatory:"0..1",must:"0..n",reference:"0..1",status:"0..1",type:"0..1",units:"0..1",when:"0..1"},resolve:function(){var e;if("true"===(null!=(e=this.mandatory)?e.tag:void 0)&&null!=this["default"])throw this.error("cannot define 'default' when 'mandatory' is true")},construct:function(e){var n,i,r,o,s,a;if(null==e&&(e={}),(null!=e?e.constructor:void 0)!==Object)return e;for(a=null!=(o=e[this.datakey])?o:this.binding,"function"==typeof console.debug&&console.debug("expr on leaf "+this.tag+" for "+a+" with "+this.exprs.length+" exprs"),s=this.exprs,i=0,r=s.length;r>i;i++)n=s[i],"type"!==n.kind&&(a=n.apply(a));return null!=this.type&&(a=this.type.apply(a)),new t(this.datakey,a,{schema:this}).join(e)},compose:function(e,n){var t,i;return null==n&&(n={}),e instanceof Array||e instanceof Object&&Object.keys(e).length>0||(i=null!=(t=this.lookup("extension","type"))&&"function"==typeof t.compose?t.compose(e):void 0,null==i)?void 0:("function"==typeof this.debug&&this.debug("leaf "+n.tag+" found "+(null!=i?i.tag:void 0)),new r(this.tag,n.tag,this)["extends"](i))}}),new n("leaf-list",{argument:"name",node:!0,scope:{config:"0..1",description:"0..1","if-feature":"0..n","max-elements":"0..1","min-elements":"0..1",must:"0..n","ordered-by":"0..1",reference:"0..1",status:"0..1",type:"0..1",units:"0..1",when:"0..1"},construct:function(e){var n,i,r,o,s,a;if(null==e&&(e={}),!(e instanceof Object))return e;if(o=null!=(s=e[this.tag])?s:this.binding,null!=o)for(a=this.exprs,i=0,r=a.length;r>i;i++)n=a[i],o=n.apply(o);return new t(this.tag,o,{schema:this}).join(e)},predicate:function(e){return null==e[this.tag]||e[this.tag]instanceof Array},compose:function(e,n){var t,i;return null==n&&(n={}),e instanceof Array&&e.every(function(e){return"object"!=typeof e})?(t=this.lookup("extension","type"),i=e.map(function(e){return"function"==typeof t.compose?t.compose(e):void 0}),new r(this.tag,n.tag,this)["extends"](i[0])):void 0}}),new n("length",{argument:"value",scope:{description:"0..1","error-app-tag":"0..1","error-message":"0..1",reference:"0..1"}}),new n("list",{argument:"name",node:!0,scope:{action:"0..n",anydata:"0..n",anyxml:"0..n",choice:"0..n",config:"0..1",container:"0..n",description:"0..1",grouping:"0..n","if-feature":"0..n",key:"0..1",leaf:"0..n","leaf-list":"0..n",list:"0..n","max-elements":"0..1","min-elements":"0..1",must:"0..n",notification:"0..n","ordered-by":"0..1",reference:"0..1",status:"0..1",typedef:"0..n",unique:"0..1",uses:"0..n",when:"0..1"},construct:function(e){var n,i,r,o,s,a;if(null==e&&(e={}),!(e instanceof Object))return e;if(o=null!=(s=e[this.datakey])?s:this.binding,o instanceof Array&&(o=o.map(function(e){return function(n,t){var i,r,o,s;if(!(n instanceof Object))throw e.error("list item entry must be an object");for(s=e.exprs,r=0,o=s.length;o>r;r++)i=s[r],n=i.apply(n);return n}}(this))),"function"==typeof this.debug&&this.debug("processing list "+this.datakey+" with "+this.exprs.length),null!=o)for(a=this.exprs,i=0,r=a.length;r>i;i++)n=a[i],o=n.apply(o);return o instanceof Array&&(o.forEach(function(e){return function(n,i,r){return new t(e.datakey,n,{schema:e,parent:r})}}(this)),Object.defineProperties(o,{add:{value:function(){var e,n,i,r,o;for(n=1<=arguments.length?u.call(arguments,0):[],i=0,r=n.length;r>i;i++)e=n[i],(null!=e?e.__:void 0)instanceof t&&(e.__.parent=this);return this.push.apply(this,n),(o=this.__).emit.apply(o,["create",this.__].concat(u.call(n))),this.__.emit("update",this.__)}},remove:{value:function(e){var n,t,i,r;console.log("remove "+e+" from list with "+this.length+" entries"),i=[];for(n in this)t=this[n],t["@key"]===e&&(this.splice(n,1),i.push(t));return(r=this.__).emit.apply(r,["delete",this.__].concat(u.call(i))),this.__.emit("update",this.__)}}})),new t(this.datakey,o,{schema:this}).join(e)},predicate:function(e){return null==e[this.datakey]||e[this.datakey]instanceof Object},compose:function(e,n){var t,i,o,s,u,c,l,f,h,p;if(null==n&&(n={}),e instanceof Array&&e.length>0&&e.every(function(e){return"object"==typeof e})){e=e[0],f=function(){var e,n;e=this.scope,n=[];for(s in e)a.call(e,s)&&n.push(this.lookup("extension",s));return n}.call(this),l=[];for(o in e)if(a.call(e,o)){for(p=e[o],i=0,u=f.length;u>i&&(t=f[i],null==t||(c="function"==typeof t.compose?t.compose(p,{tag:o}):void 0,null==c));i++);if(null==c)return;l.push(c)}return(h=new r(this.tag,n.tag,this))["extends"].apply(h,l)}}}),new n("mandatory",{argument:"value",resolve:function(){return this.tag=this.tag===!0||"true"===this.tag},predicate:function(e){return this.tag!==!0||null!=e}}),new n("max-elements",{argument:"value",resolve:function(){return"unbounded"!==this.tag?this.tag=Number(this.tag):void 0},predicate:function(e){return"unbounded"===this.tag||!(e instanceof Array)||e.length<=this.tag}}),new n("min-elements",{argument:"value",resolve:function(){return this.tag=Number(this.tag)},predicate:function(e){return!(e instanceof Array)||e.length>=this.tag}}),new n("modifier",{argument:"value",resolve:function(){return this.tag="invert-match"===this.tag}}),new n("module",{argument:"name",node:!0,scope:{anydata:"0..n",anyxml:"0..n",augment:"0..n",choice:"0..n",contact:"0..1",container:"0..n",description:"0..1",deviation:"0..n",extension:"0..n",feature:"0..n",grouping:"0..n",identity:"0..n","import":"0..n",include:"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",namespace:"0..1",notification:"0..n",organization:"0..1",prefix:"0..1",reference:"0..1",revision:"0..n",rpc:"0..n",typedef:"0..n",uses:"0..n","yang-version":"0..1"},resolve:function(){var e,n;if("1.1"===(null!=(e=this["yang-version"])?e.tag:void 0)&&(null==this.namespace||null==this.prefix))throw this.error("must define 'namespace' and 'prefix' for YANG 1.1 compliance");return(null!=(n=this.extension)?n.length:void 0)>0&&"function"==typeof this.debug?this.debug("found "+this.extension.length+" new extension(s)"):void 0},construct:function(e){var n,t,i,r;if(null==e&&(e={}),!(e instanceof Object))return e;for(r=this.exprs,t=0,i=r.length;i>t;t++)n=r[t],e=n.apply(e);return e},compose:function(e,n){var t,i,o,s,u,c,l,f,h,p;if(null==n&&(n={}),e instanceof Object&&!(e instanceof Function&&0===Object.keys(e).length)){f=function(){var e,n;e=this.scope,n=[];for(s in e)a.call(e,s)&&n.push(this.lookup("extension",s));return n}.call(this),l=[];for(o in e)if(a.call(e,o)){for(p=e[o],i=0,u=f.length;u>i&&(t=f[i],null==t||("function"==typeof this.debug&&this.debug("checking '"+o+"' to see if "+t.tag),c="function"==typeof t.compose?t.compose(p,{tag:o}):void 0,null==c));i++);if(null==c&&(console.log("unable to find match for "+o),console.log(p)),null==c)return;l.push(c)}return(h=new r(this.tag,n.tag,this))["extends"].apply(h,l)}}}),new n("must",{argument:"condition",scope:{description:"0..1","error-app-tag":"0..1","error-message":"0..1",reference:"0..1"}}),new n("namespace",{argument:"uri"}),new n("notification",{argument:"event",scope:{anydata:"0..n",anyxml:"0..n",choice:"0..n",container:"0..n",description:"0..1",grouping:"0..n","if-feature":"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",reference:"0..1",status:"0..1",typedef:"0..n",uses:"0..n"},construct:function(){}}),new n("ordered-by",{argument:"value"}),new n("organization",{argument:"text",yin:!0}),new n("output",{scope:{anyxml:"0..n",choice:"0..n",container:"0..n",grouping:"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",typedef:"0..n",uses:"0..n"},construct:function(e){if(!(e instanceof Function))throw this.error("expected a function but got a '"+typeof e+"'");return function(n,t,i){return e.apply(this,[n,function(e){return function(n){var r,o,s,a,u,c;try{for(c=e.schema.output.exprs,a=0,u=c.length;u>a;a++)s=c[a],n=s.apply(n)}catch(o){r=o,i(r)}return t(n)}}(this),i])}}}),new n("path",{argument:"value",resolve:function(){return this.tag=new i(this.tag)}}),new n("pattern",{argument:"value",scope:{description:"0..1","error-app-tag":"0..1","error-message":"0..1",modifier:"0..1",reference:"0..1"},resolve:function(){return this.tag=new RegExp(this.tag)}}),new n("position",{argument:"value"}),new n("prefix",{argument:"value",resolve:function(){}}),new n("presence",{argument:"value"}),new n("range",{argument:"value",scope:{description:"0..1","error-app-tag":"0..1","error-message":"0..1",reference:"0..1"}}),new n("reference",{argument:"value"}),new n("refine",{argument:"target-node",scope:{"default":"0..1",description:"0..1",reference:"0..1",config:"0..1",mandatory:"0..1",presence:"0..1",must:"0..n","min-elements":"0..1","max-elements":"0..1",units:"0..1"},resolve:function(){var e;return e=this.parent.grouping.locate(this.tag),null==e?void console.warn(this.error("unable to locate '"+this.tag+"'")):("function"==typeof this.debug&&this.debug("APPLY "+this+" to "+e),this.exprs.forEach(function(n){var t;switch(!1){case!e.hasOwnProperty(n.kind):return"must"===(t=n.kind)||"if-feature"===t?e["extends"](n):e[n.kind]=n;default:return e["extends"](n)}}))}}),new n("require-instance",{argument:"value",resolve:function(){return this.tag=this.tag===!0||"true"===this.tag}}),new n("revision",{argument:"date",scope:{description:"0..1",reference:"0..1"}}),new n("revision-date",{argument:"date"}),new n("rpc",{argument:"name",node:!0,scope:{description:"0..1",grouping:"0..n","if-feature":"0..n",input:"0..1",output:"0..1",reference:"0..1",status:"0..1",typedef:"0..n"},construct:function(e){var n,i,r,o,s,a,u;if(null==e&&(e={}),!(e instanceof Object))return e;if(u=null!=(o=null!=(s=e[this.tag])?s:this.binding)?o:function(e){return function(n,t,i){throw e.error("handler function undefined")}}(this),!(u instanceof Function))throw this.error("expected a function but got a '"+typeof func+"'");if(3!==u.length)throw this.error("cannot define without function (input, resolve, reject)");for(a=this.exprs,i=0,r=a.length;r>i;i++)n=a[i],u=n.apply(u);return u.async=!0,new t(this.tag,u,{schema:this}).join(e)},compose:function(e,n){return null==n&&(n={}),e instanceof Function&&0===Object.keys(e).length&&0===Object.keys(e.prototype).length?new r(this.tag,n.tag,this).bind(e):void 0}}),new n("status",{argument:"value",resolve:function(){var e;return this.tag=null!=(e=this.tag)?e:"current"}}),new n("submodule",{argument:"name",scope:{anyxml:"0..n",augment:"0..n","belongs-to":"0..1",choice:"0..n",contact:"0..1",container:"0..n",description:"0..1",deviation:"0..n",extension:"0..n",feature:"0..n",grouping:"0..n",identity:"0..n","import":"0..n",include:"0..n",leaf:"0..n","leaf-list":"0..n",list:"0..n",notification:"0..n",organization:"0..1",reference:"0..1",revision:"0..n",rpc:"0..n",typedef:"0..n",uses:"0..n","yang-version":"0..1"}}),new n("type",{argument:"name",scope:{base:"0..1",bit:"0..n","enum":"0..n","fraction-digits":"0..1",length:"0..1",path:"0..1",pattern:"0..n",range:"0..1","require-instance":"0..1",type:"0..n"},resolve:function(){var e,n,t,i,r,o;if(o=this.lookup("typedef",this.tag),null==o)throw console.log(this.parent),this.error("unable to resolve typedef for "+this.tag);if(null!=o.type)for(i=o.type.exprs,n=0,t=i.length;t>n;n++)e=i[n],this.update(e);if(this.convert=null!=(r=o.convert)?r.bind(this):void 0,null!=this.parent&&"type"!==this.parent.kind)try{return this.parent["extends"](o["default"],o.units)}catch(s){}},construct:function(e){switch(!1){case!(e instanceof Function):return e;case!(e instanceof Array):return e.map(function(e){return function(n){return e.convert(n)}}(this));default:return this.convert(e)}},compose:function(e,n){var t,i,o,s,a,u;if(null==n&&(n={}),!(e instanceof Function)){for(u=this.lookup("typedef"),o=0,s=u.length;s>o;o++){a=u[o],"function"==typeof this.debug&&this.debug("checking if '"+e+"' is "+a.tag);try{if(void 0!==a.convert(e))break}catch(i){t=i,"function"==typeof this.debug&&this.debug(t)}}if(null!=a)return new r(this.tag,a.tag)}}}),new n("typedef",{argument:"name",scope:{"default":"0..1",description:"0..1",units:"0..1",type:"0..1",reference:"0..1",status:"0..1"},resolve:function(){var e;if(null!=this.type)return void(this.convert=this.type.resolve().convert);if(e=this.lookup("typedef",this.tag),null==e)throw this.error("unable to resolve '"+this.tag+"' built-in type");return this.convert=e.convert}}),new n("unique",{argument:"tag",resolve:function(){if(this.tag=this.tag.split(" "),!this.tag.every(function(e){return function(n){return null!=e.parent.match("leaf",n)}}(this)))throw this.error("referenced unique items do not have leaf elements")},predicate:function(e){var n;return e instanceof Array?(n={},e.every(function(e){return function(t){var i;return i=e.tag.reduce(function(e,n){return e+=t[n]},""),n[i]?!1:(n[i]=!0,!0)}}(this))):!0}}),new n("units",{argument:"value"}),new n("uses",{argument:"grouping-name",scope:{augment:"0..n",description:"0..1","if-feature":"0..n",refine:"0..n",reference:"0..1",status:"0..1",when:"0..1"},resolve:function(){var e;if(e=this.lookup("grouping",this.tag),null==e)throw this.error("unable to resolve "+this.tag+" grouping definition");return Object.defineProperty(this,"grouping",{value:e.clone()}),null==this.when?("function"==typeof this.debug&&this.debug("extending "+this.grouping+" into "+this.parent),this.parent["extends"](this.grouping.elements.filter(function(e){var n;return"description"!==(n=e.kind)&&"reference"!==n&&"status"!==n}))):this.parent.on("apply:after",function(e){return function(n){var t,i,r,o,s;if(null!=n){for(o=e.grouping.exprs,s=[],i=0,r=o.length;r>i;i++)t=o[i],s.push(n=t.apply(n));return s}}}(this))}}),new n("value",{argument:"value"}),new n("when",{argument:"condition",scope:{description:"0..1",reference:"0..1"}}),new n("yang-version",{argument:"value"}),new n("yin-element",{argument:"value"})]}).call(this);
},{"./expression":4,"./property":7,"./xpath":8,"./yang":11}],10:[function(require,module,exports){
(function(){var t,n,r,e,i=function(t,n){function r(){this.constructor=t}for(var e in n)o.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},o={}.hasOwnProperty,u=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1};t=require("./element"),r=function(t){function n(t,r){var e;if(null==r&&(r={}),!(r instanceof Object))throw this.error("must supply 'spec' as object");n.__super__.constructor.call(this,"typedef",t),Object.defineProperties(this,{convert:{value:null!=(e=r.construct)?e:function(t){return t}},schema:{value:r.schema}})}return i(n,t),n}(t),n=function(t){function n(t,r){n.__super__.constructor.call(this,t,{construct:function(t){var n;if(null!=t){if(Number.isNaN(Number(t))||Number(t)%1!==0)throw new Error("["+this.tag+"] unable to convert '"+t+"'");if("string"==typeof t&&!t)throw new Error("["+this.tag+"] unable to convert '"+t+"'");if(null!=this.range&&(r=this.range.tag),null!=r&&(n=r.split("|"),n=n.map(function(t){var n,r,e;return e=t.split(/\s*\.\.\s*/),r=e[0],n=e[1],r=Number(r),n=function(){switch(!1){case"max"!==n:return null;default:return Number(n)}}(),function(t){return(null==r||t>=r)&&(null==n||n>=t)}})),t=Number(t),null!=n&&!n.some(function(n){return"function"==typeof n?n(t):void 0}))throw new Error("["+this.tag+"] range violation for '"+t+"' on "+this.range.tag);return t}}})}return i(n,t),n}(r),e=module.exports=r,e.builtins=[new r("boolean",{construct:function(t){if(null!=t)switch(!1){case"string"!=typeof t:if("true"!==t&&"false"!==t)throw new Error("["+this.tag+"] "+t+" must be 'true' or 'false'");return"true"===t;case"boolean"!=typeof t:return t;default:throw new Error("["+this.tag+"] unable to convert '"+t+"'")}}}),new r("empty",{construct:function(t){if(null!=t)throw new Error("["+this.tag+"] cannot contain value");return null}}),new r("binary",{construct:function(t){if(null!=t){if(!(t instanceof Object))throw new Error("["+this.tag+"] unable to convert '"+t+"'");return t}}}),new n("int8","-128..127"),new n("int16","-32768..32767"),new n("int32","-2147483648..2147483647"),new n("int64","-9223372036854775808..9223372036854775807"),new n("uint8","0..255"),new n("uint16","0..65535"),new n("uint32","0..4294967295"),new n("uint64","0..18446744073709551615"),new r("decimal64",{construct:function(t){if(null!=t){if(Number.isNaN(Number(t)))throw new Error("["+this.tag+"] unable to convert '"+t+"'");if("string"==typeof t&&!t)throw new Error("["+this.tag+"] unable to convert '"+t+"'");switch(!1){case"string"!=typeof t:return Number(t);case"number"!=typeof t:return t;default:throw new Error("["+this.tag+"] type violation for "+t)}}}}),new r("string",{construct:function(t){var n,r,e;if(null!=t){if(n=null!=(e=this.pattern)?e.map(function(t){return t.tag}):void 0,null!=this.length&&(r=this.length.tag.split("|"),r=r.map(function(t){var n,r,e;return e=t.split(/\s*\.\.\s*/),r=e[0],n=e[1],r=Number(r),n=function(){switch(!1){case"max"!==n:return null;default:return Number(n)}}(),function(t){return(null==r||t.length>=r)&&(null==n||t.length<=n)}})),t=String(t),null!=r&&!r.some(function(n){return"function"==typeof n?n(t):void 0}))throw new Error("["+this.tag+"] length violation for '"+t+"' on "+this.length.tag);if(null!=n&&!n.every(function(n){return n.test(t)}))throw new Error("["+this.tag+"] pattern violation for '"+t+"'");return t}}}),new r("union",{construct:function(t){var n,r,e,i;if(null==this.type)throw new Error("["+this.tag+"] must contain one or more type definitions");for(e=this.type,n=0,r=e.length;r>n;n++){i=e[n];try{return i.convert(t)}catch(o){continue}}throw new Error("["+this.tag+"] unable to find matching type for '"+t+"' within: "+this.type)}}),new r("enumeration",{construct:function(t){var n,r,e,i,o;if(null!=t){if(!((null!=(i=this["enum"])?i.length:void 0)>0))throw new Error("["+this.tag+"] must have one or more 'enum' definitions");for(o=this["enum"],r=0,e=o.length;e>r;r++){if(n=o[r],t===n.tag)return n.tag;if(t===n.value.tag)return n.tag;if(""+t===n.value.tag)return n.tag}throw new Error("["+this.tag+"] type violation for '"+t+"' on "+this["enum"].map(function(t){return t.tag}))}}}),new r("identityref",{construct:function(t){var n;if(null!=t){if(null==this.base||"string"!=typeof this.base.tag)throw new Error("["+this.tag+"] must reference 'base' identity");if(n=this.base.tag,null==this.base||"string"!=typeof this.base.tag)throw new Error("["+this.tag+"] must reference 'base' identity");return t}}}),new r("instance-identifier",{construct:function(t){if(null!=t){if("string"!=typeof t||!/([^\/^\[]+(?:\[.+\])*)/.test(t))throw new Error("["+this.tag+"] unable to convert "+t+" into valid XPATH expression");return t}}}),new r("leafref",{construct:function(t){var n,r;if(null!=t){if(null==this.path)throw new Error("["+this.tag+"] must contain 'path' statement");return r=this.path.tag,n=function(){var n,e,i;return e=this.get(r),i=function(){switch(!1){case!(e instanceof Array):return u.call(e,t)>=0;default:return e===t}}(),i!==!0?(n=new Error("["+this.tag+"] "+this.name+" is invalid for '"+t+"' (not found in "+r+")"),n["error-tag"]="data-missing",n["error-app-tag"]="instance-required",n["err-path"]=r,n):t},n.computed=!0,n}}})]}).call(this);
},{"./element":2}],11:[function(require,module,exports){
(function(){var e,t,n,r,o,i,s,u,l=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty,a=[].slice;u=require("path"),s=require("yang-parser"),i=require("indent-string"),r=require("clone"),e=require("./expression"),t=require("./model"),n=function(n){function c(t,n,r){return this.constructor!==c?function(){return this.eval.apply(this,arguments)}.bind(c.parse(arguments[0],!0)):(null==r&&(r=this.lookup("extension",t)),r instanceof e||this.once("resolve:before",function(e){return function(){if(r=e.lookup("extension",t),!(r instanceof c))throw e.error("encountered unknown extension '"+t+"'");return e.source=r.source,e.argument=r.argument,r}}(this)),c.__super__.constructor.call(this,t,n,r),void Object.defineProperties(this,{datakey:{get:function(){switch(!1){case!(this.parent instanceof c&&"module"===this.parent.kind):return this.parent.tag+":"+this.tag;default:return this.tag}}.bind(this)}}))}return l(c,n),c.scope={extension:"0..n",typedef:"0..n",module:"0..n",submodule:"0..n"},c.parse=function(e,t){var n,r,o,i,u,l,c;null==t&&(t=!0);try{"string"==typeof e&&(e=s.parse(e))}catch(o){throw r=o,r.offset>50||(r.offset=50),u=e.slice(r.offset-50,r.offset+50),u=u.replace(/\s\s+/g," "),this.error("invalid YANG syntax detected",u)}if(!(e instanceof Object))throw this.error("must pass in valid YANG schema",e);i=function(){switch(!1){case!e.prf:return e.prf+":"+e.kw;default:return e.kw}}(),e.arg&&(c=e.arg),e=new this(i,c)["extends"](e.substmts.map(function(e){return function(t){return e.parse(t,!1)}}(this))),l=e.scope;for(i in l)if(n=l[i],("1"===n||"1..n"===n)&&!e.hasOwnProperty(i))throw e.error("constraint violation for required '"+i+"' = "+n);return t!==!1&&e.resolve(t),e},c.compose=function(t,n){var r,o,i,s,u;if(null==n&&(n={}),null!=n.kind){if(r=c.prototype.lookup.call(this,"extension",n.kind),!(r instanceof e))throw new Error("unable to find requested '"+n.kind+"' extension");return"function"==typeof r.compose?r.compose(t,n):void 0}for(s=this.extension,o=0,i=s.length;i>o;o++)if(r=s[o],r.compose instanceof Function&&("function"==typeof console.debug&&console.debug("checking data if "+r.tag),u=r.compose(t,n),u instanceof c))return u},c.resolve=function(){var e,t,n,r,i,s;if(r=2<=arguments.length?a.call(arguments,0,i=arguments.length-1):(i=0,[]),s=arguments[i++],"string"!=typeof s)return null;for(e=r=function(){switch(!1){case!r.length:return r[0];default:return u.resolve()}}();null==n&&"/"!==e&&"."!==e;){"function"==typeof console.debug&&console.debug("resolving "+s+" in "+e+"/package.json");try{n=require(e+"/package.json").models[s],e=u.dirname(require.resolve(e+"/package.json"))}catch(l){}null==n&&(e=u.dirname(e))}return t=function(){switch(!1){case!(null!=n&&/^[\.\/]/.test(n)):return u.resolve(e,n);case null==n:return this.resolve(n,s)}}.call(this),null==t&&(t=u.resolve(r,s+".yang")),"function"==typeof console.debug&&console.debug("checking if "+t+" exists"),o.existsSync(t)?t:null},c.require=function(e,t){var n,r,i,s,l,a,f,p;if(null==t&&(t={}),null!=e){if(null==t.basedir&&(t.basedir=""),null==t.resolve&&(t.resolve=!0),l=u.extname(e),a=u.resolve(t.basedir,e),n=u.dirname(a),!l)return null!=(f=c.prototype.match.call(this,"module",e))?f:this.require(this.resolve(e),t);if(".yang"!==l)return require(a);try{return this.use(this.parse(o.readFileSync(a,"utf-8"),t.resolve))}catch(s){if(i=s,!t.resolve||"ExpressionError"!==i.name||"include"!==(p=i.context.kind)&&"import"!==p)throw console.error("unable to require YANG module from '"+a+"'"),console.error(i),i;if("include"===i.context.kind&&(t.resolve=!1),r=this.require(this.resolve(n,i.context.tag),t),null==r)throw i.message="unable to auto-resolve '"+i.context.tag+"' dependency module",i;return"function"==typeof console.debug&&console.debug("retrying require("+e+")"),this.require.apply(this,arguments)}}},c.register=function(e){var t;return null==e&&(e={}),null!=(t=require.extensions)&&null==t[".yang"]&&(t[".yang"]=function(t,n){return t.exports=c.require(n,e)}),exports},c.prototype.error=function(e,t){return c.__super__.error.call(this,this.trail+"["+this.tag+"] "+e,t)},c.prototype.eval=function(e,n){return this.node!==!0?c.__super__.eval.apply(this,arguments):e instanceof t?e:(e=c.__super__.eval.call(this,r(e),n),new t(this,e.__props__))},c.prototype.locate=function(e){var t,n,r,o,i,s,u,l,f,p,h,d,g,m;if("string"==typeof e&&e){if(e=e.replace(/\s/g,""),/^\//.test(e)&&this!==this.root)return this.root.locate(e);if(u=e.split("/").filter(function(e){return!!e}),n=u[0],d=2<=u.length?a.call(u,1):[],null==n)return this;if(".."===n)return null!=(l=this.parent)?l.locate(d.join("/")):void 0;if(i=n.match(/^([\._-\w]+):([\._-\w]+)$/),null==i)return c.__super__.locate.apply(this,arguments);if(f=[i[1],i[2]],s=f[0],m=f[1],"function"==typeof this.debug&&this.debug("looking for '"+s+":"+m+"'"),d=d.map(function(e){return e.replace(s+":","")}),g=[m].concat(d).join("/"),this.tag===s||this.lookup("prefix",s))return"function"==typeof this.debug&&this.debug("(local) locate '"+g+"'"),c.__super__.locate.call(this,g);for(h=null!=(p=this["import"])?p:[],t=0,r=h.length;r>t;t++)if(o=h[t],o.prefix.tag===s)return"function"==typeof this.debug&&this.debug("(external) locate "+g),o.module.locate(g)}},c.prototype.match=function(e,t){var n,r,o,i,s,u,l,f,p,h,d,g,m;if(null==e||null==t||"string"!=typeof t)return c.__super__.match.apply(this,arguments);if(p=t.split(":"),f=2<=p.length?a.call(p,0,o=p.length-1):(o=0,[]),n=p[o++],!f.length)return c.__super__.match.apply(this,arguments);if(f=f[0],(null!=(h=this.root)&&null!=(d=h.prefix)?d.tag:void 0)===f)return this.root.match(e,n);if(r=this.lookup("belongs-to"),(null!=r?r.prefix.tag:void 0)===f)return r.module.match(e,n);for(i=null!=(g=null!=(m=this.root)?m["import"]:void 0)?g:[],s=0,u=i.length;u>s;s++)if(l=i[s],l.prefix.tag===f)return l.module.match(e,n)},c.prototype.toString=function(e){var t,n;return null==e&&(e={space:2}),t=this.kind,null!=this.source.argument&&(t+=" "+function(){switch(this.source.argument){case"value":return"'"+this.tag+"'";case"text":return"\n"+i('"'+this.tag+'"'," ",e.space);default:return this.tag}}.call(this)),n=this.elements.filter(function(e){return function(t){return t.parent===e}}(this)).map(function(t){return t.toString(e)}).join("\n"),t+=n?" {\n"+i(n," ",e.space)+"\n}":";"},c}(e),module.exports=n}).call(this);
},{"./expression":4,"./model":6,"clone":15,"indent-string":18,"path":21,"yang-parser":32}],12:[function(require,module,exports){
"use strict";function throwFirstError(){if(pendingErrors.length)throw pendingErrors.shift()}function asap(r){var s;s=freeTasks.length?freeTasks.pop():new RawTask,s.task=r,rawAsap(s)}function RawTask(){this.task=null}var rawAsap=require("./raw"),freeTasks=[],pendingErrors=[],requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);module.exports=asap,RawTask.prototype.call=function(){try{this.task.call()}catch(r){asap.onerror?asap.onerror(r):(pendingErrors.push(r),requestErrorThrow())}finally{this.task=null,freeTasks[freeTasks.length]=this}};
},{"./raw":13}],13:[function(require,module,exports){
(function (global){
"use strict";function rawAsap(e){queue.length||(requestFlush(),flushing=!0),queue[queue.length]=e}function flush(){for(;index<queue.length;){var e=index;if(index+=1,queue[e].call(),index>capacity){for(var u=0,r=queue.length-index;r>u;u++)queue[u]=queue[u+index];queue.length-=index,index=0}}queue.length=0,index=0,flushing=!1}function makeRequestCallFromMutationObserver(e){var u=1,r=new BrowserMutationObserver(e),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){u=-u,t.data=u}}function makeRequestCallFromTimer(e){return function(){function u(){clearTimeout(r),clearInterval(t),e()}var r=setTimeout(u,0),t=setInterval(u,50)}}module.exports=rawAsap;var queue=[],flushing=!1,requestFlush,index=0,capacity=1024,BrowserMutationObserver=global.MutationObserver||global.WebKitMutationObserver;requestFlush="function"==typeof BrowserMutationObserver?makeRequestCallFromMutationObserver(flush):makeRequestCallFromTimer(flush),rawAsap.requestFlush=requestFlush,rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],14:[function(require,module,exports){

},{}],15:[function(require,module,exports){
(function (Buffer){
var clone=function(){"use strict";function e(t,r,n,o){function f(t,n){if(null===t)return null;if(0==n)return t;var i,a;if("object"!=typeof t)return t;if(e.__isArray(t))i=[];else if(e.__isRegExp(t))i=new RegExp(t.source,u(t)),t.lastIndex&&(i.lastIndex=t.lastIndex);else if(e.__isDate(t))i=new Date(t.getTime());else{if(p&&Buffer.isBuffer(t))return i=new Buffer(t.length),t.copy(i),i;"undefined"==typeof o?(a=Object.getPrototypeOf(t),i=Object.create(a)):(i=Object.create(o),a=o)}if(r){var s=c.indexOf(t);if(-1!=s)return l[s];c.push(t),l.push(i)}for(var y in t){var b;a&&(b=Object.getOwnPropertyDescriptor(a,y)),b&&null==b.set||(i[y]=f(t[y],n-1))}return i}var i;"object"==typeof r&&(n=r.depth,o=r.prototype,i=r.filter,r=r.circular);var c=[],l=[],p="undefined"!=typeof Buffer;return"undefined"==typeof r&&(r=!0),"undefined"==typeof n&&(n=1/0),f(t,n)}function t(e){return Object.prototype.toString.call(e)}function r(e){return"object"==typeof e&&"[object Date]"===t(e)}function n(e){return"object"==typeof e&&"[object Array]"===t(e)}function o(e){return"object"==typeof e&&"[object RegExp]"===t(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=r,e.__isArray=n,e.__isRegExp=o,e.__getRegExpFlags=u,e}();"object"==typeof module&&module.exports&&(module.exports=clone);
}).call(this,require("buffer").Buffer)
},{"buffer":14}],16:[function(require,module,exports){
(function(){var n,t=[].slice;n=function(){function n(n){this.pf=n}return n.prototype.parse=function(t){var r;if(n.prototype._text=t,r=this.pf(0),null===r[0])throw n.error("Parsing failed",r[1]);return r[0]},n.unit=function(t){return new n(function(n){return[t,n]})},n.prototype.bind=function(t){return new n(function(n){return function(r){var u;return u=n.pf(r),null===u[0]?[null,u[1]]:t(u[0]).pf(u[1])}}(this))},n.prototype.orElse=function(t){return new n(function(n){return function(r){var u;return u=n.pf(r),null===u[0]?t.pf(r):u}}(this))},n.choice=function(){var r,u;return r=arguments[0],u=2<=arguments.length?t.call(arguments,1):[],0===u.length?r:r.orElse(n.choice.apply(null,u))},n.prototype.many=function(t){return null==t&&(t=0),new n(function(n){return function(r){var u,e,o,i,f;for(o=[],e=r;;){if(f=n.pf(e),i=f[0],u=f[1],null===i)break;o.push(i),e=u}return o.length<t?[null,u]:[o,e]}}(this))},n.prototype.concat=function(t){return this.many(t).bind(function(t){return n.unit(t.join(""))})},n.prototype.skipMany=function(t){return null==t&&(t=0),new n(function(n){return function(r){var u,e,o,i,f;for(u=0,o=r;;){if(f=n.pf(o),i=f[0],e=f[1],null===i)break;u++,o=e}return t>u?[null,e]:[u,o]}}(this))},n.prototype.manyTill=function(t){return new n(function(n){return function(r){var u,e,o,i,f,c;for(o=[],e=r;;){if(f=t.pf(e),i=f[0],u=f[1],null!==i)return[o,u];if(c=n.pf(e),i=c[0],e=c[1],null===i)return[null,e];o.push(i)}}}(this))},n.prototype.repeat=function(t){return null==t&&(t=2),0>=t?n.unit([]):this.bind(function(r){return function(u){return r.repeat(t-1).bind(function(t){return t.unshift(u),n.unit(t)})}}(this))},n.prototype.between=function(t,r){return t.bind(function(t){return function(){return t.bind(function(t){return r.bind(function(){return n.unit(t)})})}}(this))},n.prototype.option=function(t){return null==t&&(t=""),this.orElse(n.unit(t))},n.prototype.sepBy=function(t,r){return null==r&&(r=0),0===r?this.sepBy(t,1).orElse(n.unit([])):this.bind(function(u){return function(e){return t.bind(function(){return u}).many(r-1).bind(function(t){return t.unshift(e),n.unit(t)})}}(this))},n.prototype.endBy=function(t,r){return null==r&&(r=0),this.bind(function(r){return t.bind(function(){return n.unit(r)})}).many(r)},n.prototype.sepEndBy=function(t,r){return null==r&&(r=0),this.sepBy(t,r).bind(function(r){return t.option().bind(function(){return n.unit(r)})})},n.prototype.notFollowedBy=function(t){return this.bind(function(r){return new n(function(n){var u;return u=null===t.pf(n)[0]?r:null,[u,n]})})},n.eof=new n(function(n){var t;return t=n>=this._text.length?!0:null,[t,n]}),n.anyChar=new n(function(n){var t;return t=this._text[n++],null!=t?[t,n]:[null,n]}),n.sat=function(t){return n.anyChar.bind(function(r){return t(r)?n.unit(r):new n(function(n){return[null,n-1]})})},n["char"]=function(t){return n.sat(function(n){return t===n})},n.oneOf=function(t){return n.sat(function(n){return t.indexOf(n)>=0})},n.noneOf=function(t){return n.sat(function(n){return-1===t.indexOf(n)})},n.lower=n.sat(function(n){return/^[a-z]$/.test(n)}),n.upper=n.sat(function(n){return/^[A-Z]$/.test(n)}),n.alphanum=n.sat(function(n){return/^\w$/.test(n)}),n.space=n.sat(function(n){return/^\s$/.test(n)}),n.digit=n.oneOf("0123456789"),n.octDigit=n.oneOf("01234567"),n.hexDigit=n.oneOf("01234567abcdefABCDEF"),n.nat0=n.digit.concat(1).bind(function(t){return n.unit(Number(t))}),n.letter=n.lower.orElse(n.upper),n.skipSpace=n.space.skipMany(),n.string=function(t){return new n(function(n){return t===this._text.substr(n,t.length)?[t,n+t.length]:[null,n]})},n.offset=new n(function(n){return[n,n]}),n.offset2coords=function(t,r){var u,e,o,i;for(null==r&&(r=8),e=function(t,u){var e,o,i,f,c;for(o=0,c=n.prototype._text.slice(t,u),i=0,f=c.length;f>i;i++)e=c[i],o+="	"===e?r:1;return o},i=1,u=0;;){if(o=n.prototype._text.indexOf("\n",u),-1===o||o>=t)break;i+=1,u=o+1}return[i,e(u,t)]},n.coordinates=new n(function(t){return[n.offset2coords(t),t]}),n.error=function(n,t){var r;return r=new Error(n),r.name="ParsingError",r.offset=t,r.coords=this.offset2coords(t),r},n}(),null!=module.exports?module.exports=n:this.Parser=n}).call(this);
},{}],17:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;n>r;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(0>n)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],18:[function(require,module,exports){
"use strict";var repeating=require("repeating");module.exports=function(e,r,n){if("string"!=typeof e||"string"!=typeof r)throw new TypeError("`string` and `indent` should be strings");if(null!=n&&"number"!=typeof n)throw new TypeError("`count` should be a number");return 0===n?e:(r=n>1?repeating(r,n):r,e.replace(/^(?!\s*$)/gm,r))};
},{"repeating":31}],19:[function(require,module,exports){
"use strict";var numberIsNan=require("number-is-nan");module.exports=Number.isFinite||function(e){return!("number"!=typeof e||numberIsNan(e)||e===1/0||e===-(1/0))};
},{"number-is-nan":20}],20:[function(require,module,exports){
"use strict";module.exports=Number.isNaN||function(e){return e!==e};
},{}],21:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;i>u;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return 0>t&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))
},{"_process":22}],22:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],23:[function(require,module,exports){
"use strict";module.exports=require("./lib");
},{"./lib":28}],24:[function(require,module,exports){
"use strict";function noop(){}function getThen(e){try{return e.then}catch(n){return LAST_ERROR=n,IS_ERROR}}function tryCallOne(e,n){try{return e(n)}catch(o){return LAST_ERROR=o,IS_ERROR}}function tryCallTwo(e,n,o){try{e(n,o)}catch(t){return LAST_ERROR=t,IS_ERROR}}function Promise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==noop&&doResolve(e,this)}function safeThen(e,n,o){return new e.constructor(function(t,r){var i=new Promise(noop);i.then(t,r),handle(e,new Handler(n,o,i))})}function handle(e,n){for(;3===e._81;)e=e._65;return Promise._10&&Promise._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=n)):1===e._45?(e._45=2,void(e._54=[e._54,n])):void e._54.push(n):void handleResolved(e,n)}function handleResolved(e,n){asap(function(){var o=1===e._81?n.onFulfilled:n.onRejected;if(null===o)return void(1===e._81?resolve(n.promise,e._65):reject(n.promise,e._65));var t=tryCallOne(o,e._65);t===IS_ERROR?reject(n.promise,LAST_ERROR):resolve(n.promise,t)})}function resolve(e,n){if(n===e)return reject(e,new TypeError("A promise cannot be resolved with itself."));if(n&&("object"==typeof n||"function"==typeof n)){var o=getThen(n);if(o===IS_ERROR)return reject(e,LAST_ERROR);if(o===e.then&&n instanceof Promise)return e._81=3,e._65=n,void finale(e);if("function"==typeof o)return void doResolve(o.bind(n),e)}e._81=1,e._65=n,finale(e)}function reject(e,n){e._81=2,e._65=n,Promise._97&&Promise._97(e,n),finale(e)}function finale(e){if(1===e._45&&(handle(e,e._54),e._54=null),2===e._45){for(var n=0;n<e._54.length;n++)handle(e,e._54[n]);e._54=null}}function Handler(e,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=o}function doResolve(e,n){var o=!1,t=tryCallTwo(e,function(e){o||(o=!0,resolve(n,e))},function(e){o||(o=!0,reject(n,e))});o||t!==IS_ERROR||(o=!0,reject(n,LAST_ERROR))}var asap=require("asap/raw"),LAST_ERROR=null,IS_ERROR={};module.exports=Promise,Promise._10=null,Promise._97=null,Promise._61=noop,Promise.prototype.then=function(e,n){if(this.constructor!==Promise)return safeThen(this,e,n);var o=new Promise(noop);return handle(this,new Handler(e,n,o)),o};
},{"asap/raw":13}],25:[function(require,module,exports){
"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype.done=function(t,e){var o=arguments.length?this.then.apply(this,arguments):this;o.then(null,function(t){setTimeout(function(){throw t},0)})};
},{"./core.js":24}],26:[function(require,module,exports){
"use strict";function valuePromise(e){var r=new Promise(Promise._61);return r._81=1,r._65=e,r}var Promise=require("./core.js");module.exports=Promise;var TRUE=valuePromise(!0),FALSE=valuePromise(!1),NULL=valuePromise(null),UNDEFINED=valuePromise(void 0),ZERO=valuePromise(0),EMPTYSTRING=valuePromise("");Promise.resolve=function(e){if(e instanceof Promise)return e;if(null===e)return NULL;if(void 0===e)return UNDEFINED;if(e===!0)return TRUE;if(e===!1)return FALSE;if(0===e)return ZERO;if(""===e)return EMPTYSTRING;if("object"==typeof e||"function"==typeof e)try{var r=e.then;if("function"==typeof r)return new Promise(r.bind(e))}catch(n){return new Promise(function(e,r){r(n)})}return valuePromise(e)},Promise.all=function(e){var r=Array.prototype.slice.call(e);return new Promise(function(e,n){function o(i,u){if(u&&("object"==typeof u||"function"==typeof u)){if(u instanceof Promise&&u.then===Promise.prototype.then){for(;3===u._81;)u=u._65;return 1===u._81?o(i,u._65):(2===u._81&&n(u._65),void u.then(function(e){o(i,e)},n))}var f=u.then;if("function"==typeof f){var s=new Promise(f.bind(u));return void s.then(function(e){o(i,e)},n)}}r[i]=u,0===--t&&e(r)}if(0===r.length)return e([]);for(var t=r.length,i=0;i<r.length;i++)o(i,r[i])})},Promise.reject=function(e){return new Promise(function(r,n){n(e)})},Promise.race=function(e){return new Promise(function(r,n){e.forEach(function(e){Promise.resolve(e).then(r,n)})})},Promise.prototype["catch"]=function(e){return this.then(null,e)};
},{"./core.js":24}],27:[function(require,module,exports){
"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype["finally"]=function(e){return this.then(function(r){return Promise.resolve(e()).then(function(){return r})},function(r){return Promise.resolve(e()).then(function(){throw r})})};
},{"./core.js":24}],28:[function(require,module,exports){
"use strict";module.exports=require("./core.js"),require("./done.js"),require("./finally.js"),require("./es6-extensions.js"),require("./node-extensions.js"),require("./synchronous.js");
},{"./core.js":24,"./done.js":25,"./es6-extensions.js":26,"./finally.js":27,"./node-extensions.js":29,"./synchronous.js":30}],29:[function(require,module,exports){
"use strict";function denodeifyWithCount(n,e){for(var r=[],t=0;e>t;t++)r.push("a"+t);var o=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([callbackFn]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(Promise,n)}function denodeifyWithoutCount(n){for(var e=Math.max(n.length-1,3),r=[],t=0;e>t;t++)r.push("a"+t);var o=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+callbackFn+";","var res;","switch (argLength) {",r.concat(["extra"]).map(function(n,e){return"case "+e+":res = fn.call("+["self"].concat(r.slice(0,e)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(Promise,n)}var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.denodeify=function(n,e){return"number"==typeof e&&e!==1/0?denodeifyWithCount(n,e):denodeifyWithoutCount(n)};var callbackFn="function (err, res) {if (err) { rj(err); } else { rs(res); }}";Promise.nodeify=function(n){return function(){var e=Array.prototype.slice.call(arguments),r="function"==typeof e[e.length-1]?e.pop():null,t=this;try{return n.apply(this,arguments).nodeify(r,t)}catch(o){if(null===r||"undefined"==typeof r)return new Promise(function(n,e){e(o)});asap(function(){r.call(t,o)})}}},Promise.prototype.nodeify=function(n,e){return"function"!=typeof n?this:void this.then(function(r){asap(function(){n.call(e,null,r)})},function(r){asap(function(){n.call(e,r)})})};
},{"./core.js":24,"asap":12}],30:[function(require,module,exports){
"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.enableSynchronous=function(){Promise.prototype.isPending=function(){return 0==this.getState()},Promise.prototype.isFulfilled=function(){return 1==this.getState()},Promise.prototype.isRejected=function(){return 2==this.getState()},Promise.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},Promise.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},Promise.prototype.getState=function(){return 3===this._81?this._65.getState():-1===this._81||-2===this._81?0:this._81}},Promise.disableSynchronous=function(){Promise.prototype.isPending=void 0,Promise.prototype.isFulfilled=void 0,Promise.prototype.isRejected=void 0,Promise.prototype.getValue=void 0,Promise.prototype.getReason=void 0,Promise.prototype.getState=void 0};
},{"./core.js":24}],31:[function(require,module,exports){
"use strict";var isFinite=require("is-finite");module.exports=function(e,i){if("string"!=typeof e)throw new TypeError("Expected `input` to be a string");if(0>i||!isFinite(i))throw new TypeError("Expected `count` to be a positive finite number");var t="";do 1&i&&(t+=e),e+=e;while(i>>=1);return t};
},{"is-finite":19}],32:[function(require,module,exports){
(function(){var n,r,t,i,e,u,o,c,a,f,l,s,b,d,h,p,m,y,E,w,v;n=require("comparse"),r=function(){function n(n,r,t,i){this.prf=n,this.kw=r,this.arg=t,this.substmts=i}return n}(),s=n.string("//").bind(function(){return n.anyChar.manyTill(n["char"]("\n")).bind(function(r){return n.unit(r.join(""))})}),i=n.string("/*").bind(function(){return n.anyChar.manyTill(n.string("*/")).bind(function(r){return n.unit(r.join(""))})}),e=s.orElse(i),m=n.space.orElse(e).skipMany(1),b=n.space.orElse(e).skipMany(),f=n.letter.orElse(n["char"]("_")).bind(function(r){return n.alphanum.orElse(n.oneOf(".-")).many().bind(function(t){var i;return i=r+t.join(""),n.unit("xml"===i.slice(0,3).toLowerCase()?null:i)})}),l=f.bind(function(r){return n["char"](":").bind(function(){return n.unit(r)})}).option().bind(function(r){return f.bind(function(t){return n.unit([r,t])})}),v=n.noneOf(" '\"\n	\r;{}/").orElse(n["char"]("/").notFollowedBy(n.oneOf("/*"))).concat(1),y=n.sat(function(n){return"'"!==n}).concat().between(n["char"]("'"),n["char"]("'")),a=n["char"]("\\").bind(function(){var r;return r={t:"	",n:"\n",'"':'"',"\\":"\\"},n.oneOf('tn"\\').bind(function(t){return n.unit(r[t])})}),u=n.noneOf('"\\').orElse(a),o=n["char"]('"').bind(function(){return n.coordinates.bind(function(n){return c(n[1])})}),c=function(r){var t;return t=function(n){var t,i,e,u;for(e=r,u="        ",i=0;e>0;)if(t=n[i++]," "===t)e-=1;else{if("	"!==t)return n.slice(i-1);if(8>e)return u.slice(0,8-e)+n.slice(i);e-=8}return n.slice(i)},u.manyTill(n["char"]('"')).bind(function(r){var i,e,u,o,c,a,f,l,s,b,d;for(i=r.join("").split("\n"),c=[i[0]],b=i.slice(1),a=0,l=b.length;l>a;a++)e=b[a],c.push(t(e));for(o=[],d=c.slice(0,-1),f=0,s=d.length;s>f;f++)e=d[f],u=e.match(/(.*\S)?\s*/),o.push(u[1]);return o.push(c.pop()),n.unit(o.join("\n"))})},h=o.orElse(y).bind(function(r){return n["char"]("+").between(b,b).bind(function(){return h}).option().bind(function(t){return n.unit(r+t)})}),t=v.orElse(h),E=l.bind(function(i){return m.bind(function(){return t}).option().bind(function(t){return b.bind(function(){return p.bind(function(e){return n.unit(new r(i[0],i[1],t,e))})})})}),w=n["char"]("{").bind(function(){return b.bind(function(){return E}).manyTill(b.bind(function(){return n["char"]("}")}))}),p=n["char"](";").bind(function(){return n.unit([])}).orElse(w),d=function(r,t){var i;if(null==t&&(t=null),i=E.between(b,b).parse(r),null!=t&&i.kw!==t)throw n.error("Wrong top-level statement",0);return i},module.exports={parse:d}}).call(this);
},{"comparse":16}]},{},[5]);
